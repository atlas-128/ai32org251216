---
// src/pages/index.astro
// Project: Ai32.org
// Version: 251218 (Standard Finalized by Terry Deng & Gemini)
// Location: Amherst, MA
---

<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Ai32.org | Project 251218</title>
    <style>
      /* æç®€ä¸»ä¹‰è®¾è®¡é£æ ¼ - è¿™é‡Œçš„ CSS æ¨¡æ‹Ÿäº†ä½ æˆªå›¾ä¸­çš„æ ·å­ */
      :root {
        --font-serif: "Georgia", "Times New Roman", serif;
        --font-mono: "Menlo", "Consolas", "Monaco", monospace;
        --color-bg: #ffffff;
        --color-text: #111111;
        --color-accent: #333333;
      }
      body {
        font-family: var(--font-serif);
        background-color: var(--color-bg);
        color: var(--color-text);
        max-width: 800px;
        margin: 0 auto;
        padding: 40px 20px;
        line-height: 1.6;
      }
      h1 {
        font-size: 2.5rem;
        font-weight: bold;
        margin-bottom: 0.5rem;
        letter-spacing: -0.05em;
      }
      .meta {
        font-family: var(--font-serif);
        font-size: 0.9rem;
        color: #555;
        margin-bottom: 3rem;
        border-left: 1px solid #ccc;
        padding-left: 15px;
      }
      h2 {
        font-size: 1.5rem;
        margin-top: 2.5rem;
        border-bottom: 1px solid #eee;
        padding-bottom: 10px;
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .city-section {
        margin-bottom: 2rem;
      }
      .city-title {
        font-weight: bold;
        font-size: 1.1rem;
        margin-bottom: 0.5rem;
      }
      .city-desc {
        font-size: 0.95rem;
        color: #444;
        margin-bottom: 0.5rem;
      }
      .code-block {
        font-family: var(--font-mono);
        background: #f4f4f4;
        padding: 10px;
        border-radius: 4px;
        word-break: break-all;
        font-size: 0.9rem;
        color: #d32f2f; /* ç±»ä¼¼æˆªå›¾ä¸­çš„çº¢è‰²/æ·±è‰²ä»£ç è‰² */
      }
      
      /* è½¬æ¢å™¨æ ·å¼ */
      .converter-box {
        background: #fafafa;
        border: 1px solid #eee;
        padding: 20px;
        border-radius: 8px;
        margin-bottom: 3rem;
      }
      .input-group {
        margin-bottom: 1rem;
      }
      label {
        display: block;
        font-size: 0.9rem;
        margin-bottom: 5px;
        font-family: var(--font-mono);
      }
      input[type="number"] {
        width: 100%;
        max-width: 300px;
        padding: 8px;
        font-family: var(--font-mono);
        font-size: 1rem;
        border: 1px solid #ccc;
        border-radius: 4px;
      }
      .result-row {
        font-family: var(--font-mono);
        margin-top: 10px;
        font-size: 1.1rem;
      }
      .label-tag {
        color: #666;
        font-size: 0.9rem;
        display: inline-block;
        width: 120px;
      }
    </style>
  </head>
  <body>
    <h1>Ai32.org</h1>
    <div class="meta">
      <p>Project 251218 | Dynamic Base System</p>
      <p>Loc: Amherst, MA (01002)</p>
      <p>Dev: Astro on Coolify (Co-piloted by Gemini)</p>
    </div>

    <h2>âš¡ï¸ å®æ—¶ç¼–ç è½¬æ¢å™¨</h2>
    <div class="converter-box">
      <div class="input-group">
        <label for="numInput">è¾“å…¥æ•°å­— (Base10)</label>
        <input type="number" id="numInput" value="251218" placeholder="è¾“å…¥ä»»æ„æ•´æ•°..." />
      </div>
      
      <div class="result-row">
        <span class="label-tag">Ai-Base32</span>
        <span id="output32" style="font-weight: bold; color: #2E7D32;">...</span>
      </div>
      <div class="result-row">
        <span class="label-tag">Ai-Base64</span>
        <span id="output64" style="font-weight: bold; color: #1565C0;">...</span>
      </div>
    </div>

    <h2>ğŸ™ The Digital Cities</h2>

    <div class="city-section">
      <div class="city-title">Base2 (äºŒè¿›åˆ¶åŸ)</div>
      <div class="city-desc">è®¡ç®—æœºçš„åŸºçŸ³</div>
      <div class="code-block">01</div>
    </div>

    <div class="city-section">
      <div class="city-title">Base4 (DNAåŸ)</div>
      <div class="city-desc">åŸºå› ç¼–ç çš„åŸºç¡€</div>
      <div class="code-block">0123</div>
    </div>

    <div class="city-section">
      <div class="city-title">Base8 (å…«è¿›åˆ¶åŸ)</div>
      <div class="city-desc">æ—©æœŸçš„å­—èŠ‚åˆ†ç»„</div>
      <div class="code-block">01234567</div>
    </div>

    <div class="city-section">
      <div class="city-title">Base16 (åå…­è¿›åˆ¶åŸ)</div>
      <div class="city-desc">å†…å­˜åœ°å€çš„è¯­è¨€</div>
      <div class="code-block">0123456789ABCdeF</div>
    </div>

    <div class="city-section">
      <div class="city-title">Ai-Base32 (æ ¸å¿ƒåŸ)</div>
      <div class="city-desc">
        <strong>Ver 251218 å®šç¨¿ï¼š</strong>Ai32.org çš„å¿ƒè„ã€‚
        å‰”é™¤ L, O, Q, S, V, Z åŠä¸‹åˆ’çº¿ _ã€‚
        <br>ä¿ç•™å‡å· -ï¼Œå¼•å…¥ <strong>@</strong> ä½œä¸ºè§†è§‰é”šç‚¹ã€‚åŒºåˆ† i, n, t, u, Wã€‚
      </div>
      <div class="code-block">0123456789ABCdeFGHiJKMnPRtuWXY-@</div>
    </div>

    <div class="city-section">
      <div class="city-title">Ai-Base64 (ä¼ è¾“åŸ)</div>
      <div class="city-desc">
        ç½‘ç»œä¼ è¾“æ ‡å‡†ã€‚å¬å›äº† Base32 è½é€‰çš„å­—æ¯ï¼Œå¹¶çº³å…¥ JSON ä¸ URL é«˜é¢‘ç¬¦å·ã€‚
        <br>ç©ºæ ¼ (Space) ä½äºæœ€åä¸€ä½ (Index 63)ã€‚
      </div>
      <div class="code-block">0123456789ABCdeFGHiJKMnPRtuWXY-@LQSVZ_.:()[]{}/?!+=*#$%&amp;&lt;&gt;,;|~^ </div>
    </div>

    <script>
      // 1. å®šä¹‰å­—ç¬¦é›† (Ai32.org251218 æ ‡å‡†)
      const CHARSET_32 = "0123456789ABCdeFGHiJKMnPRtuWXY-@";
      // æ‰©å±•éƒ¨åˆ†: LQSVZ_.:()[]{}/?!+=*#$%&<>,;|~^ (æ³¨æ„æœ€åæœ‰ä¸ªç©ºæ ¼)
      const EXTENSION_64 = "LQSVZ_.:()[]{}/?!+=*#$%&<>,;|~^ ";
      const CHARSET_64 = CHARSET_32 + EXTENSION_64;

      // 2. è½¬æ¢ç®—æ³• (Base 10 -> Base X)
      function toBase(num, charset) {
        if (num === "" || isNaN(num)) return "";
        let n = BigInt(num); // ä½¿ç”¨ BigInt é˜²æ­¢å¤§æ•°æº¢å‡º
        if (n < 0n) return "Error"; // æš‚ä¸æ”¯æŒè´Ÿæ•°
        if (n === 0n) return charset[0];

        let result = "";
        const base = BigInt(charset.length);
        
        while (n > 0n) {
          const remainder = n % base;
          result = charset[Number(remainder)] + result;
          n = n / base;
        }
        return result;
      }

      // 3. ç»‘å®š DOM äº‹ä»¶
      const inputEl = document.getElementById('numInput');
      const out32El = document.getElementById('output32');
      const out64El = document.getElementById('output64');

      function update() {
        const val = inputEl.value;
        out32El.textContent = toBase(val, CHARSET_32);
        
        // æ³¨æ„ï¼šBase64 è½¬æ¢æ—¶ï¼Œç©ºæ ¼åœ¨ HTML ä¸­éœ€è¦è½¬ä¹‰æ˜¾ç¤ºï¼Œä½† textContent ä¼šè‡ªåŠ¨å¤„ç†
        // ä¸ºäº†æ˜¾ç¤ºæ¸…æ™°ï¼Œæˆ‘ä»¬åœ¨æ˜¾ç¤ºæ—¶å¦‚æœç»“æœåŒ…å«ç©ºæ ¼ï¼Œå¯ä»¥è€ƒè™‘ä¸åšç‰¹æ®Šå¤„ç†ï¼Œå› ä¸º <pre> æˆ– monospace å­—ä½“å¯ä»¥æ˜¾ç¤ºå®ƒ
        let res64 = toBase(val, CHARSET_64);
        if (res64.endsWith(" ")) {
           // å¦‚æœä»¥ç©ºæ ¼ç»“å°¾ï¼Œä¸ºäº†è§†è§‰æ˜æ˜¾ï¼Œå¯ä»¥åŠ ä¸ªæç¤ºï¼Œæˆ–è€…ä¿æŒåŸæ ·ã€‚
           // è¿™é‡Œä¿æŒåŸæ ·ï¼Œå› ä¸ºæ˜¯â€œå®æ—¶ç¼–ç å™¨â€
        }
        out64El.textContent = res64;
      }

      // åˆå§‹åŒ–è¿è¡Œä¸€æ¬¡
      update();

      // ç›‘å¬è¾“å…¥
      inputEl.addEventListener('input', update);
    </script>
  </body>
</html>